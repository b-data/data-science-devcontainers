{
	"name": "Python base",
	"build": {
		"dockerfile": "../Python.Dockerfile",
		"context": "..",
		"args": {
			"BUILD_ON_IMAGE": "glcr.b-data.ch/python/base",
			"PYTHON_VERSION": "3.11.4",
			// "UNMINIMIZE": "unset-to-keep-minimized",
			"JUPYTERLAB_VERSION": "3.6.5",
			// "INSTALL_DEVTOOLS": "unset-to-not-install",
			"NODE_VERSION": "16.20.2",
			"USE_ZSH_FOR_ROOT": "unset-to-use-bash",
			"SET_LANG": "en_US.UTF-8",
			"SET_TZ": "Etc/UTC",
			"PIP_USER": "1"
		}
	},

	"onCreateCommand": "onCreateCommand.sh",
	"postStartCommand": "${HOME}/.local/bin/dockerSystemPrune.sh",
	"postAttachCommand": "${HOME}/.local/bin/checkForUpdates.sh",

	"features": {
		"ghcr.io/devcontainers/features/common-utils:2": {
			"configureZshAsDefaultShell": true,
			"upgradePackages": false,
			"username": "vscode",
			"userUid": "automatic",
			"userGid": "automatic"
		},
		"ghcr.io/devcontainers/features/docker-outside-of-docker:1": {
			"moby": false
		},
		// A comma separated list of packages to install
		"ghcr.io/rocker-org/devcontainer-features/apt-packages:1": {
			"packages": ""
		}
	},

	"customizations": {
		"vscode": {
			"extensions": [
				"alefragnani.project-manager",
				"christian-kohler.path-intellisense",
				"eamodio.gitlens@11.7.0",
				"editorconfig.editorconfig",
				"GitLab.gitlab-workflow",
				"grapecity.gc-excelviewer",
				"mhutchie.git-graph",
				"ms-python.python",
				"ms-toolsai.jupyter",
				"mutantdino.resourcemonitor",
				"piotrpalarz.vscode-gitignore-generator",
				"redhat.vscode-yaml",
				"dbaeumer.vscode-eslint",
				"esbenp.prettier-vscode",
				"ms-python.black-formatter",
				"ms-azuretools.vscode-docker"
			],
			"settings": {
				"gitlab.aiAssistedCodeSuggestions.enabled": false,
				"gitlens.showWelcomeOnInstall": false,
				"gitlens.showWhatsNewAfterUpgrades": false,
				"resmon.show.battery": false,
				"resmon.show.cpufreq": false
			}
		}
	},

	// Set 'remoteUser' to 'root' to connect as root instead.
	"remoteUser": "vscode",
	"workspaceMount": "source=python-base-home-vscode,target=/home/vscode,type=volume",
	// "workspaceMount": "source=${localWorkspaceFolder}/.bind-mounts/python-base-home-vscode,target=/home/vscode,type=bind",
	"workspaceFolder": "/home/vscode",

	// "remoteUser": "root",
	// "workspaceMount": "source=python-base-root,target=/root,type=volume",
	// // "workspaceMount": "source=${localWorkspaceFolder}/.bind-mounts/python-base-root,target=/root,type=bind",
	// "workspaceFolder": "/root",

	// By default, BLAS/OpenMP will use as many threads as possible.
	// Set the following environment variable to control the exact number to use.
	"remoteEnv": {
		// "OMP_NUM_THREADS": "1"
	}
}
